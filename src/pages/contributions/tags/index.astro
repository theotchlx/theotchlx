---
import BaseLayout from '../../../layouts/BaseLayout.astro';

const allContributions = await Astro.glob('../*.md');
const tags = [...new Set(allContributions.map((contribution) => contribution.frontmatter.tags).flat())];

const pageTitle = "Contributions tag index";
---

<BaseLayout pageTitle={pageTitle}>
  <div class="tags">
    {tags.map((tag) => (
      <a class="tag" href={`/contributions/tags/${tag}`}>{tag}</a>
    ))
    }</div>
</BaseLayout>

<style>
  a {
    display: block;
    text-decoration: none;
    color: #2D4A6F;
  }

  a:hover {
    color: #3D5A7F;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
  }

  .tag {
    margin: 0.25em;
    border: solid 1px #392F28;
    border-radius: .5em;
    padding: .5em 1em;
    font-size: 1.15em;
  }

  .tag:hover {
    background-color: #E5E3E5;
  }

  @media (prefers-color-scheme: dark) {
    a {
      color: #A1A1A1;
    }

    a:hover {
      color: #B1B1B1;
    }

    .tag {
      background-color: #392F28;
    }

    .tag:hover {
      background-color: #493F38;
    }
  }
</style>
